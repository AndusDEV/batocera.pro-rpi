#!/bin/bash
#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

app=sunshine
url=$(curl -s https://api.github.com/repos/LizardByte/Sunshine/releases/latest | grep 'browser_' | cut -d\" -f4 | grep AppImage)

#--------------------------------------------------------------------------------------------------------------------------------
#################################################################################################################################
# optional: ---------------------------------------------------------------------------------------------------------------------
prefix="" 								# install directory, default: /userdata/system/pro/$app
ext="" 									# default: extras.txt, filelist to download for get-extras
dep="" 									# get app dependencies/libs  
repo=""									# specify custom repo/hosting
port="" 								# add port using launcher.sh, default=
mode="" 								# screen / text, default=screen
theme=""  								# color / bw, default=color
loader="" 								# loading animation yes/no, default=yes 
custom="" 								# run app-custom/post/install script, default=/extras/custom.sh  

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------
# start pro-framework 
wget -q -O /tmp/batocera.pro-framework.sh https://raw.githubusercontent.com/uureel/batocera.pro/main/.dep/pro-framework.sh ; 
cd /tmp/ ; dos2unix /tmp/batocera.pro-framework.sh ; source /tmp/batocera.pro-framework.sh 

start 

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

say-hi

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

get-appimage $url $prefix sunshine.AppImage

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

get-extras

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------
# run app-custom script, default=/extras/custom.sh 
add-custom

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

add-port 

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

add-autostart

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------

say-bye

#################################################################################################################################
#--------------------------------------------------------------------------------------------------------------------------------
